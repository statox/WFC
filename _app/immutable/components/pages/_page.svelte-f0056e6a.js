import{S as Y,i as K,s as X,C as fe,k as y,l as N,m as P,h as _,n as O,b as $,I as H,E as ce,F as ae,G as ue,f as p,t as w,H as Q,J as ht,o as pe,j as _t,K as oe,L as Ee,M as tt,A as mt,N as dt,g as j,d as J,q as D,a as z,r as M,c as C,D as W,B as ee,O as pt,P as $t,w as V,x as F,y as L,z as U,e as q,Q as Z,R as lt,u as bt,T as Te,U as nt,v as ie}from"../../chunks/index-ef051809.js";import{w as le}from"../../chunks/index-2a3dddd5.js";import{_ as gt}from"../../chunks/preload-helper-41c905a7.js";let vt=1;function st(){return`svelte-tabs-${vt++}`}function wt(i){let e,n,t,l;const f=i[4].default,s=fe(f,i,i[3],null);return{c(){e=y("div"),s&&s.c(),this.h()},l(r){e=N(r,"DIV",{class:!0});var c=P(e);s&&s.l(c),c.forEach(_),this.h()},h(){O(e,"class","svelte-tabs")},m(r,c){$(r,e,c),s&&s.m(e,null),n=!0,t||(l=H(e,"keydown",i[1]),t=!0)},p(r,[c]){s&&s.p&&(!n||c&8)&&ce(s,f,r,r[3],n?ue(f,r[3],c,null):ae(r[3]),null)},i(r){n||(p(s,r),n=!0)},o(r){w(s,r),n=!1},d(r){r&&_(e),s&&s.d(r),t=!1,l()}}}const $e={};function kt(i,e,n){const t=i.indexOf(e);i.splice(t,1),n.update(l=>l===e?i[t]||i[i.length-1]:l)}function Et(i,e,n){let t,{$$slots:l={},$$scope:f}=e,{initialSelectedIndex:s=0}=e;const r=[],c=[],o=[],u=le({}),a=le({}),h=le(null);Q(i,h,k=>n(5,t=k));const m=le(null);function v(k,b,I){k.push(b),I.update(B=>B||b),oe(()=>kt(k,b,I))}function E(k){const b=c.indexOf(k);h.set(k),m.set(o[b])}ht($e,{registerTab(k){v(c,k,h)},registerTabElement(k){r.push(k)},registerPanel(k){v(o,k,m)},selectTab:E,selectedTab:h,selectedPanel:m,controls:u,labeledBy:a}),pe(()=>{E(c[s])}),_t(()=>{for(let k=0;k<c.length;k++)u.update(b=>({...b,[c[k].id]:o[k].id})),a.update(b=>({...b,[o[k].id]:c[k].id}))});async function T(k){if(k.target.classList.contains("svelte-tabs__tab")){let b=c.indexOf(t);switch(k.key){case"ArrowRight":b+=1,b>c.length-1&&(b=0),E(c[b]),r[b].focus();break;case"ArrowLeft":b-=1,b<0&&(b=c.length-1),E(c[b]),r[b].focus()}}}return i.$$set=k=>{"initialSelectedIndex"in k&&n(2,s=k.initialSelectedIndex),"$$scope"in k&&n(3,f=k.$$scope)},[h,T,s,f,l]}class ot extends Y{constructor(e){super(),K(this,e,Et,wt,X,{initialSelectedIndex:2})}}function Tt(i){let e,n,t,l,f,s;const r=i[9].default,c=fe(r,i,i[8],null);return{c(){e=y("li"),c&&c.c(),this.h()},l(o){e=N(o,"LI",{role:!0,id:!0,"aria-controls":!0,"aria-selected":!0,tabindex:!0,class:!0});var u=P(e);c&&c.l(u),u.forEach(_),this.h()},h(){O(e,"role","tab"),O(e,"id",i[3].id),O(e,"aria-controls",n=i[2][i[3].id]),O(e,"aria-selected",i[1]),O(e,"tabindex",t=i[1]?0:-1),O(e,"class","svelte-tabs__tab svelte-1fbofsd"),Ee(e,"svelte-tabs__selected",i[1])},m(o,u){$(o,e,u),c&&c.m(e,null),i[10](e),l=!0,f||(s=H(e,"click",i[11]),f=!0)},p(o,[u]){c&&c.p&&(!l||u&256)&&ce(c,r,o,o[8],l?ue(r,o[8],u,null):ae(o[8]),null),(!l||u&4&&n!==(n=o[2][o[3].id]))&&O(e,"aria-controls",n),(!l||u&2)&&O(e,"aria-selected",o[1]),(!l||u&2&&t!==(t=o[1]?0:-1))&&O(e,"tabindex",t),(!l||u&2)&&Ee(e,"svelte-tabs__selected",o[1])},i(o){l||(p(c,o),l=!0)},o(o){w(c,o),l=!1},d(o){o&&_(e),c&&c.d(o),i[10](null),f=!1,s()}}}function St(i,e,n){let t,l,{$$slots:f={},$$scope:s}=e,r;const c={id:st()},{registerTab:o,registerTabElement:u,selectTab:a,selectedTab:h,controls:m}=tt($e);Q(i,h,k=>n(7,t=k)),Q(i,m,k=>n(2,l=k));let v;o(c),pe(async()=>{await mt(),u(r)});function E(k){dt[k?"unshift":"push"](()=>{r=k,n(0,r)})}const T=()=>a(c);return i.$$set=k=>{"$$scope"in k&&n(8,s=k.$$scope)},i.$$.update=()=>{i.$$.dirty&128&&n(1,v=t===c)},[r,v,l,c,a,h,m,t,s,f,E,T]}class it extends Y{constructor(e){super(),K(this,e,St,Tt,X,{})}}function yt(i){let e,n;const t=i[1].default,l=fe(t,i,i[0],null);return{c(){e=y("ul"),l&&l.c(),this.h()},l(f){e=N(f,"UL",{role:!0,class:!0});var s=P(e);l&&l.l(s),s.forEach(_),this.h()},h(){O(e,"role","tablist"),O(e,"class","svelte-tabs__tab-list svelte-12yby2a")},m(f,s){$(f,e,s),l&&l.m(e,null),n=!0},p(f,[s]){l&&l.p&&(!n||s&1)&&ce(l,t,f,f[0],n?ue(t,f[0],s,null):ae(f[0]),null)},i(f){n||(p(l,f),n=!0)},o(f){w(l,f),n=!1},d(f){f&&_(e),l&&l.d(f)}}}function Nt(i,e,n){let{$$slots:t={},$$scope:l}=e;return i.$$set=f=>{"$$scope"in f&&n(0,l=f.$$scope)},[l,t]}class rt extends Y{constructor(e){super(),K(this,e,Nt,yt,X,{})}}function Se(i){let e;const n=i[6].default,t=fe(n,i,i[5],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,f){t&&t.m(l,f),e=!0},p(l,f){t&&t.p&&(!e||f&32)&&ce(t,n,l,l[5],e?ue(n,l[5],f,null):ae(l[5]),null)},i(l){e||(p(t,l),e=!0)},o(l){w(t,l),e=!1},d(l){t&&t.d(l)}}}function It(i){let e,n,t,l=i[1]===i[2]&&Se(i);return{c(){e=y("div"),l&&l.c(),this.h()},l(f){e=N(f,"DIV",{id:!0,"aria-labelledby":!0,class:!0,role:!0});var s=P(e);l&&l.l(s),s.forEach(_),this.h()},h(){O(e,"id",i[2].id),O(e,"aria-labelledby",n=i[0][i[2].id]),O(e,"class","svelte-tabs__tab-panel svelte-epfyet"),O(e,"role","tabpanel")},m(f,s){$(f,e,s),l&&l.m(e,null),t=!0},p(f,[s]){f[1]===f[2]?l?(l.p(f,s),s&2&&p(l,1)):(l=Se(f),l.c(),p(l,1),l.m(e,null)):l&&(j(),w(l,1,1,()=>{l=null}),J()),(!t||s&1&&n!==(n=f[0][f[2].id]))&&O(e,"aria-labelledby",n)},i(f){t||(p(l),t=!0)},o(f){w(l),t=!1},d(f){f&&_(e),l&&l.d()}}}function zt(i,e,n){let t,l,{$$slots:f={},$$scope:s}=e;const r={id:st()},{registerPanel:c,selectedPanel:o,labeledBy:u}=tt($e);return Q(i,o,a=>n(1,l=a)),Q(i,u,a=>n(0,t=a)),c(r),i.$$set=a=>{"$$scope"in a&&n(5,s=a.$$scope)},[t,l,r,o,u,s,f]}class ft extends Y{constructor(e){super(),K(this,e,zt,It,X,{})}}function Ct(i){let e,n,t,l,f,s,r,c,o,u,a,h,m,v,E,T,k;return{c(){e=y("h2"),n=D("V1"),t=z(),l=y("p"),f=D("A very first exploration of Wave function collapse"),s=z(),r=y("p"),c=D(`"Tiles" allows to create new tiles and save them to the local storage. For now the sprites are
    saved as arrays of 0 and 1 to describe black and white pixels. This is not convenient, I want to
    be able to save sprites as images directly`),o=z(),u=y("p"),a=D(`"Connections" display the hard coded connections. For now there is now way to edit them but they
    are still retrieved from the local storage after the first run.`),h=z(),m=y("p"),v=D(`"Grid" is my first implementation of WFC. The not collapsed cells display only the id of their
    possible tiles. I haven't implemented backtracking yet so the error handling is crappy.`),E=z(),T=y("p"),k=D(`One thing I need to figure out: When removing the impossible state we only considerate the
    direct neighbors of the collapsed cells. I think doing that recursively (eliminating the states
    made impossible by the first removals) would make it more interesting.`)},l(b){e=N(b,"H2",{});var I=P(e);n=M(I,"V1"),I.forEach(_),t=C(b),l=N(b,"P",{});var B=P(l);f=M(B,"A very first exploration of Wave function collapse"),B.forEach(_),s=C(b),r=N(b,"P",{});var x=P(r);c=M(x,`"Tiles" allows to create new tiles and save them to the local storage. For now the sprites are
    saved as arrays of 0 and 1 to describe black and white pixels. This is not convenient, I want to
    be able to save sprites as images directly`),x.forEach(_),o=C(b),u=N(b,"P",{});var d=P(u);a=M(d,`"Connections" display the hard coded connections. For now there is now way to edit them but they
    are still retrieved from the local storage after the first run.`),d.forEach(_),h=C(b),m=N(b,"P",{});var S=P(m);v=M(S,`"Grid" is my first implementation of WFC. The not collapsed cells display only the id of their
    possible tiles. I haven't implemented backtracking yet so the error handling is crappy.`),S.forEach(_),E=C(b),T=N(b,"P",{});var A=P(T);k=M(A,`One thing I need to figure out: When removing the impossible state we only considerate the
    direct neighbors of the collapsed cells. I think doing that recursively (eliminating the states
    made impossible by the first removals) would make it more interesting.`),A.forEach(_)},m(b,I){$(b,e,I),W(e,n),$(b,t,I),$(b,l,I),W(l,f),$(b,s,I),$(b,r,I),W(r,c),$(b,o,I),$(b,u,I),W(u,a),$(b,h,I),$(b,m,I),W(m,v),$(b,E,I),$(b,T,I),W(T,k)},p:ee,i:ee,o:ee,d(b){b&&_(e),b&&_(t),b&&_(l),b&&_(s),b&&_(r),b&&_(o),b&&_(u),b&&_(h),b&&_(m),b&&_(E),b&&_(T)}}}class Pt extends Y{constructor(e){super(),K(this,e,null,Ct,X,{})}}const se=(i,e,n,t)=>{i.noStroke();const l=n.size/e.size;e.pixels.forEach((f,s)=>{const r=s%e.size,c=Math.floor(s/e.size);i.fill(f*(t||255)),i.rect(n.x+r*l,n.y+c*l,l,l)})},ye="v1/tiles",Bt=[{id:0,size:5,pixels:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},{id:1,size:5,pixels:[0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,0,0]},{id:2,size:5,pixels:[0,0,1,0,0,0,0,1,0,0,1,1,1,1,1,0,0,1,0,0,0,0,1,0,0]},{id:3,size:5,pixels:[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0]},{id:4,size:5,pixels:[0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,1,0,0,0,0,1,0,0]},{id:5,size:5,pixels:[0,0,1,0,0,0,0,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0]}];let ne=le(Bt);try{const i=window.localStorage.getItem(ye);if(i!==null)try{ne=le(JSON.parse(i))}catch{console.error("Couldnt load local storage")}ne.subscribe(e=>{window.localStorage.setItem(ye,JSON.stringify(e))})}catch{}const Wt=()=>{ne.set([])};function At(i){let e,n,t;return{c(){e=y("div"),this.h()},l(l){e=N(l,"DIV",{style:!0,class:!0}),P(e).forEach(_),this.h()},h(){O(e,"style",i[0]),O(e,"class","m-0")},m(l,f){$(l,e,f),n||(t=pt(i[1].call(null,e)),n=!0)},p(l,[f]){f&1&&O(e,"style",l[0])},i:ee,o:ee,d(l){l&&_(e),n=!1,t()}}}function Ot(i,e){return e.forEach(([n,t])=>i[n]=t),i}function Dt(i,e,n){let{target:t=void 0}=e,{sketch:l=void 0}=e,{parentDivStyle:f="display: block;"}=e,{debug:s=!1}=e,r;const c=$t(),o={ref(){c("ref",t)},instance(){c("instance",r)}};function u(a){return n(2,t=a),{destroy(){n(2,t=void 0)}}}return pe(async()=>{const a=await gt(()=>import("../../chunks/p5.min-7dea8225.js").then(E=>E.p),[],import.meta.url),{default:h}=a,v=Object.entries(a).filter(([E,T])=>T instanceof Function&&E[0]!=="_"&&E!=="default");s&&console.log("available p5 native classes",v),r=new h(E=>(E=Ot(E,v),s&&console.log("p5 instance",E),window._p5Instance=E,l(E)),t),o.ref(),o.instance()}),i.$$set=a=>{"target"in a&&n(2,t=a.target),"sketch"in a&&n(3,l=a.sketch),"parentDivStyle"in a&&n(0,f=a.parentDivStyle),"debug"in a&&n(4,s=a.debug)},[f,u,t,l,s]}class he extends Y{constructor(e){super(),K(this,e,Dt,At,X,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function Mt(i){let e,n;return e=new he({props:{sketch:i[0]}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p:ee,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Gt(i,e,n){let{tile:t}=e,{screenSize:l=100}=e,f;const s=r=>{r.setup=()=>{f=r,r.createCanvas(l,l)},r.draw=()=>{se(r,t,{x:0,y:0,size:l}),r.noLoop()}};return oe(()=>{f==null||f.remove()}),i.$$set=r=>{"tile"in r&&n(1,t=r.tile),"screenSize"in r&&n(2,l=r.screenSize)},[s,t,l]}class ct extends Y{constructor(e){super(),K(this,e,Gt,Mt,X,{tile:1,screenSize:2})}}function Ne(i,e,n){const t=i.slice();return t[1]=e[n],t}function Ie(i){let e,n,t,l=i[1].id+"",f,s,r,c,o;return r=new ct({props:{tile:i[1],screenSize:200}}),{c(){e=y("div"),n=y("span"),t=D("Tile "),f=D(l),s=z(),V(r.$$.fragment),c=z()},l(u){e=N(u,"DIV",{});var a=P(e);n=N(a,"SPAN",{});var h=P(n);t=M(h,"Tile "),f=M(h,l),h.forEach(_),s=C(a),F(r.$$.fragment,a),c=C(a),a.forEach(_)},m(u,a){$(u,e,a),W(e,n),W(n,t),W(n,f),W(e,s),L(r,e,null),W(e,c),o=!0},p(u,a){(!o||a&1)&&l!==(l=u[1].id+"")&&bt(f,l);const h={};a&1&&(h.tile=u[1]),r.$set(h)},i(u){o||(p(r.$$.fragment,u),o=!0)},o(u){w(r.$$.fragment,u),o=!1},d(u){u&&_(e),U(r)}}}function Vt(i){let e,n,t,l,f,s,r,c,o,u,a,h,m,v,E,T,k,b;e=new he({props:{sketch:i[4]}});let I=i[0],B=[];for(let d=0;d<I.length;d+=1)B[d]=Ie(Ne(i,I,d));const x=d=>w(B[d],1,1,()=>{B[d]=null});return{c(){V(e.$$.fragment),n=z(),t=y("button"),l=D("Fill tile"),f=z(),s=y("button"),r=D("Empty tile"),c=z(),o=y("button"),u=D("Save tile"),a=z(),h=y("button"),m=D("Reset all tiles"),v=z();for(let d=0;d<B.length;d+=1)B[d].c();E=q()},l(d){F(e.$$.fragment,d),n=C(d),t=N(d,"BUTTON",{});var S=P(t);l=M(S,"Fill tile"),S.forEach(_),f=C(d),s=N(d,"BUTTON",{});var A=P(s);r=M(A,"Empty tile"),A.forEach(_),c=C(d),o=N(d,"BUTTON",{});var te=P(o);u=M(te,"Save tile"),te.forEach(_),a=C(d),h=N(d,"BUTTON",{});var R=P(h);m=M(R,"Reset all tiles"),R.forEach(_),v=C(d);for(let g=0;g<B.length;g+=1)B[g].l(d);E=q()},m(d,S){L(e,d,S),$(d,n,S),$(d,t,S),W(t,l),$(d,f,S),$(d,s,S),W(s,r),$(d,c,S),$(d,o,S),W(o,u),$(d,a,S),$(d,h,S),W(h,m),$(d,v,S);for(let A=0;A<B.length;A+=1)B[A].m(d,S);$(d,E,S),T=!0,k||(b=[H(t,"click",i[5]),H(s,"click",i[6]),H(o,"click",i[3]),H(h,"click",Wt)],k=!0)},p(d,[S]){if(S&1){I=d[0];let A;for(A=0;A<I.length;A+=1){const te=Ne(d,I,A);B[A]?(B[A].p(te,S),p(B[A],1)):(B[A]=Ie(te),B[A].c(),p(B[A],1),B[A].m(E.parentNode,E))}for(j(),A=I.length;A<B.length;A+=1)x(A);J()}},i(d){if(!T){p(e.$$.fragment,d);for(let S=0;S<I.length;S+=1)p(B[S]);T=!0}},o(d){w(e.$$.fragment,d),B=B.filter(Boolean);for(let S=0;S<B.length;S+=1)w(B[S]);T=!1},d(d){U(e,d),d&&_(n),d&&_(t),d&&_(f),d&&_(s),d&&_(c),d&&_(o),d&&_(a),d&&_(h),d&&_(v),Z(B,d),d&&_(E),k=!1,lt(b)}}}const me=5,de=500;function Lt(i,e,n){let t;Q(i,ne,m=>n(0,t=m));let l;const f={size:me,pixels:new Array(me*me).fill(0).map(m=>Math.random()<.5?0:1)},s=de/f.size,r=(m,v)=>{const E=f.size*v+m;n(1,f.pixels[E]=f.pixels[E]===0?1:0,f)},c=m=>{n(1,f.pixels=f.pixels.map(v=>m),f)},o=()=>{const m={id:t.length,size:f.size,pixels:[...f.pixels]};ne.set([...t,m])},u=m=>{m.setup=()=>{l=m,m.createCanvas(de,de)};let v=0;m.draw=()=>{if(se(m,{id:-1,...f},{x:0,y:0,size:m.width}),m.mouseIsPressed){const E=m.mouseX>0&&m.mouseX<m.width&&m.mouseY>0&&m.mouseY<m.height,T=Date.now();E&&T-v>300&&(v=T,r(Math.floor(m.mouseX/s),Math.floor(m.mouseY/s)))}}};return oe(()=>{l==null||l.remove()}),[t,f,c,o,u,()=>c(1),()=>c(0)]}class Ut extends Y{constructor(e){super(),K(this,e,Lt,Vt,X,{})}}const ze="v1/connections",Ft={0:{N:[0,3,5],E:[0,1,5],S:[0,3,4],W:[0,1,4]},1:{N:[1,2,4],E:[0,1,5],S:[1,2,5],W:[0,1,4]},2:{N:[1,2,4],E:[2,3,4],S:[1,2,5],W:[2,3,5]},3:{N:[0,3,5],E:[2,3,4],S:[0,3,4],W:[2,3,5]},4:{N:[0,3,5],E:[0,5,1],S:[1,2,5],W:[2,3,5]},5:{N:[1,2,4],E:[2,3,4],S:[0,3,4],W:[0,1,4]}};let re=le(Ft);try{const i=window.localStorage.getItem(ze);if(i!==null)try{re=le(JSON.parse(i))}catch{console.error("Couldnt load local storage")}re.subscribe(e=>{window.localStorage.setItem(ze,JSON.stringify(e))})}catch{}function Rt(i){let e,n;return e=new he({props:{sketch:i[0]}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p:ee,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function jt(i,e,n){let{tile1:t}=e,{tile2:l}=e,{direction:f}=e,{screenSize:s=100}=e,r;const c=o=>{o.setup=()=>{r=o,["W","E"].includes(f)?o.createCanvas(2*s,s):o.createCanvas(s,2*s)},o.draw=()=>{const u=["N","S"].includes(f)?o.height/2:o.width/2,a=["W","N"].includes(f)?200:255;se(o,t,{x:0,y:0,size:u},a);const h=["W","N"].includes(f)?255:200,m=["N","S"].includes(f)?{x:0,y:o.height/2}:{x:o.width/2,y:0};se(o,l,{...m,size:u},h),o.stroke("red"),["W","E"].includes(f)?o.line(o.width/2,0,o.width/2,o.height):o.line(0,o.height/2,o.width,o.height/2),o.noLoop()}};return oe(()=>{r==null||r.remove()}),i.$$set=o=>{"tile1"in o&&n(1,t=o.tile1),"tile2"in o&&n(2,l=o.tile2),"direction"in o&&n(3,f=o.direction),"screenSize"in o&&n(4,s=o.screenSize)},[c,t,l,f,s]}class _e extends Y{constructor(e){super(),K(this,e,jt,Rt,X,{tile1:1,tile2:2,direction:3,screenSize:4})}}function Ce(i,e,n){const t=i.slice();t[3]=e[n];const l=t[1][t[3]];return t[4]=l,t}function Pe(i,e,n){const t=i.slice();t[7]=e[n];const l=t[1][t[7]];return t[8]=l,t}function Be(i,e,n){const t=i.slice();t[7]=e[n];const l=t[1][t[7]];return t[8]=l,t}function We(i,e,n){const t=i.slice();t[7]=e[n];const l=t[1][t[7]];return t[8]=l,t}function Ae(i,e,n){const t=i.slice();t[7]=e[n];const l=t[1][t[7]];return t[8]=l,t}function Oe(i){let e,n,t,l,f,s=i[0][i[3]].N||[],r=[];for(let o=0;o<s.length;o+=1)r[o]=De(Ae(i,s,o));const c=o=>w(r[o],1,1,()=>{r[o]=null});return{c(){e=y("span"),n=D("North"),t=z(),l=y("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=N(o,"SPAN",{});var u=P(e);n=M(u,"North"),u.forEach(_),t=C(o),l=N(o,"DIV",{class:!0});var a=P(l);for(let h=0;h<r.length;h+=1)r[h].l(a);a.forEach(_),this.h()},h(){O(l,"class","subrow svelte-1a59eai")},m(o,u){$(o,e,u),W(e,n),$(o,t,u),$(o,l,u);for(let a=0;a<r.length;a+=1)r[a].m(l,null);f=!0},p(o,u){if(u&7){s=o[0][o[3]].N||[];let a;for(a=0;a<s.length;a+=1){const h=Ae(o,s,a);r[a]?(r[a].p(h,u),p(r[a],1)):(r[a]=De(h),r[a].c(),p(r[a],1),r[a].m(l,null))}for(j(),a=s.length;a<r.length;a+=1)c(a);J()}},i(o){if(!f){for(let u=0;u<s.length;u+=1)p(r[u]);f=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);f=!1},d(o){o&&_(e),o&&_(t),o&&_(l),Z(r,o)}}}function De(i){let e,n;return e=new _e({props:{tile1:i[8],tile2:i[4],direction:"N"}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,l){const f={};l&3&&(f.tile1=t[8]),l&2&&(f.tile2=t[4]),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Me(i){let e,n,t,l,f,s=i[0][i[3]].E||[],r=[];for(let o=0;o<s.length;o+=1)r[o]=Ge(We(i,s,o));const c=o=>w(r[o],1,1,()=>{r[o]=null});return{c(){e=y("span"),n=D("East"),t=z(),l=y("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=N(o,"SPAN",{});var u=P(e);n=M(u,"East"),u.forEach(_),t=C(o),l=N(o,"DIV",{class:!0});var a=P(l);for(let h=0;h<r.length;h+=1)r[h].l(a);a.forEach(_),this.h()},h(){O(l,"class","subrow svelte-1a59eai")},m(o,u){$(o,e,u),W(e,n),$(o,t,u),$(o,l,u);for(let a=0;a<r.length;a+=1)r[a].m(l,null);f=!0},p(o,u){if(u&7){s=o[0][o[3]].E||[];let a;for(a=0;a<s.length;a+=1){const h=We(o,s,a);r[a]?(r[a].p(h,u),p(r[a],1)):(r[a]=Ge(h),r[a].c(),p(r[a],1),r[a].m(l,null))}for(j(),a=s.length;a<r.length;a+=1)c(a);J()}},i(o){if(!f){for(let u=0;u<s.length;u+=1)p(r[u]);f=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);f=!1},d(o){o&&_(e),o&&_(t),o&&_(l),Z(r,o)}}}function Ge(i){let e,n;return e=new _e({props:{tile1:i[4],tile2:i[8],direction:"E"}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,l){const f={};l&2&&(f.tile1=t[4]),l&3&&(f.tile2=t[8]),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ve(i){let e,n,t,l,f,s=i[0][i[3]].S||[],r=[];for(let o=0;o<s.length;o+=1)r[o]=Le(Be(i,s,o));const c=o=>w(r[o],1,1,()=>{r[o]=null});return{c(){e=y("span"),n=D("South"),t=z(),l=y("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=N(o,"SPAN",{});var u=P(e);n=M(u,"South"),u.forEach(_),t=C(o),l=N(o,"DIV",{class:!0});var a=P(l);for(let h=0;h<r.length;h+=1)r[h].l(a);a.forEach(_),this.h()},h(){O(l,"class","subrow svelte-1a59eai")},m(o,u){$(o,e,u),W(e,n),$(o,t,u),$(o,l,u);for(let a=0;a<r.length;a+=1)r[a].m(l,null);f=!0},p(o,u){if(u&7){s=o[0][o[3]].S||[];let a;for(a=0;a<s.length;a+=1){const h=Be(o,s,a);r[a]?(r[a].p(h,u),p(r[a],1)):(r[a]=Le(h),r[a].c(),p(r[a],1),r[a].m(l,null))}for(j(),a=s.length;a<r.length;a+=1)c(a);J()}},i(o){if(!f){for(let u=0;u<s.length;u+=1)p(r[u]);f=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);f=!1},d(o){o&&_(e),o&&_(t),o&&_(l),Z(r,o)}}}function Le(i){let e,n;return e=new _e({props:{tile1:i[4],tile2:i[8],direction:"S"}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,l){const f={};l&2&&(f.tile1=t[4]),l&3&&(f.tile2=t[8]),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Ue(i){let e,n,t,l,f,s=i[0][i[3]].W||[],r=[];for(let o=0;o<s.length;o+=1)r[o]=Fe(Pe(i,s,o));const c=o=>w(r[o],1,1,()=>{r[o]=null});return{c(){e=y("span"),n=D("West"),t=z(),l=y("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=N(o,"SPAN",{});var u=P(e);n=M(u,"West"),u.forEach(_),t=C(o),l=N(o,"DIV",{class:!0});var a=P(l);for(let h=0;h<r.length;h+=1)r[h].l(a);a.forEach(_),this.h()},h(){O(l,"class","subrow svelte-1a59eai")},m(o,u){$(o,e,u),W(e,n),$(o,t,u),$(o,l,u);for(let a=0;a<r.length;a+=1)r[a].m(l,null);f=!0},p(o,u){if(u&7){s=o[0][o[3]].W||[];let a;for(a=0;a<s.length;a+=1){const h=Pe(o,s,a);r[a]?(r[a].p(h,u),p(r[a],1)):(r[a]=Fe(h),r[a].c(),p(r[a],1),r[a].m(l,null))}for(j(),a=s.length;a<r.length;a+=1)c(a);J()}},i(o){if(!f){for(let u=0;u<s.length;u+=1)p(r[u]);f=!0}},o(o){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)w(r[u]);f=!1},d(o){o&&_(e),o&&_(t),o&&_(l),Z(r,o)}}}function Fe(i){let e,n;return e=new _e({props:{tile1:i[8],tile2:i[4],direction:"W"}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,l){const f={};l&3&&(f.tile1=t[8]),l&2&&(f.tile2=t[4]),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function Re(i){let e,n,t,l,f,s,r,c;n=new ct({props:{tile:i[4]}});let o=i[0][i[3]].N&&Oe(i),u=i[0][i[3]].E&&Me(i),a=i[0][i[3]].S&&Ve(i),h=i[0][i[3]].W&&Ue(i);return{c(){e=y("div"),V(n.$$.fragment),t=z(),o&&o.c(),l=z(),u&&u.c(),f=z(),a&&a.c(),s=z(),h&&h.c(),r=z(),this.h()},l(m){e=N(m,"DIV",{class:!0});var v=P(e);F(n.$$.fragment,v),t=C(v),o&&o.l(v),l=C(v),u&&u.l(v),f=C(v),a&&a.l(v),s=C(v),h&&h.l(v),r=C(v),v.forEach(_),this.h()},h(){O(e,"class","row svelte-1a59eai")},m(m,v){$(m,e,v),L(n,e,null),W(e,t),o&&o.m(e,null),W(e,l),u&&u.m(e,null),W(e,f),a&&a.m(e,null),W(e,s),h&&h.m(e,null),W(e,r),c=!0},p(m,v){const E={};v&2&&(E.tile=m[4]),n.$set(E),m[0][m[3]].N?o?(o.p(m,v),v&1&&p(o,1)):(o=Oe(m),o.c(),p(o,1),o.m(e,l)):o&&(j(),w(o,1,1,()=>{o=null}),J()),m[0][m[3]].E?u?(u.p(m,v),v&1&&p(u,1)):(u=Me(m),u.c(),p(u,1),u.m(e,f)):u&&(j(),w(u,1,1,()=>{u=null}),J()),m[0][m[3]].S?a?(a.p(m,v),v&1&&p(a,1)):(a=Ve(m),a.c(),p(a,1),a.m(e,s)):a&&(j(),w(a,1,1,()=>{a=null}),J()),m[0][m[3]].W?h?(h.p(m,v),v&1&&p(h,1)):(h=Ue(m),h.c(),p(h,1),h.m(e,r)):h&&(j(),w(h,1,1,()=>{h=null}),J())},i(m){c||(p(n.$$.fragment,m),p(o),p(u),p(a),p(h),c=!0)},o(m){w(n.$$.fragment,m),w(o),w(u),w(a),w(h),c=!1},d(m){m&&_(e),U(n),o&&o.d(),u&&u.d(),a&&a.d(),h&&h.d()}}}function Jt(i){let e,n,t=i[2](),l=[];for(let s=0;s<t.length;s+=1)l[s]=Re(Ce(i,t,s));const f=s=>w(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=q()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=q()},m(s,r){for(let c=0;c<l.length;c+=1)l[c].m(s,r);$(s,e,r),n=!0},p(s,[r]){if(r&7){t=s[2]();let c;for(c=0;c<t.length;c+=1){const o=Ce(s,t,c);l[c]?(l[c].p(o,r),p(l[c],1)):(l[c]=Re(o),l[c].c(),p(l[c],1),l[c].m(e.parentNode,e))}for(j(),c=t.length;c<l.length;c+=1)f(c);J()}},i(s){if(!n){for(let r=0;r<t.length;r+=1)p(l[r]);n=!0}},o(s){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)w(l[r]);n=!1},d(s){Z(l,s),s&&_(e)}}}function Yt(i,e,n){let t,l;return Q(i,re,s=>n(0,t=s)),Q(i,ne,s=>n(1,l=s)),[t,l,()=>Object.keys(t).map(Number)]}class Kt extends Y{constructor(e){super(),K(this,e,Yt,Jt,X,{})}}function at(i){return i.collapsed===!1}const Xt=(i,e)=>{const n=i.map(l=>l.id);return new Array(e).fill(0).map(l=>new Array(e).fill(0).map(f=>({collapsed:!1,possibleTiles:[...n]})))},ut=(i,e,n)=>{i[e.y][e.x]=n},Ht=(i,e)=>{var o,u,a,h;let n=Number.MAX_SAFE_INTEGER,t=[];for(let m=0;m<i.length;m++)for(let v=0;v<i[0].length;v++)((o=i[m][v].possibleTiles)==null?void 0:o.length)<n?(n=(u=i[m][v].possibleTiles)==null?void 0:u.length,t=[{x:v,y:m}]):((a=i[m][v].possibleTiles)==null?void 0:a.length)===n&&t.push({x:v,y:m});const l=Math.floor(Math.random()*t.length),f=t[l],s=Math.floor(Math.random()*((h=i[f.y][f.x].possibleTiles)==null?void 0:h.length)),r=i[f.y][f.x].possibleTiles[s],c=e[r];ut(i,f,c)},qt=(i,e)=>{for(let n=0;n<i.length;n++)for(let t=0;t<i[0].length;t++){if(at(i[n][t]))continue;const l=i[n][t].id;if(n>0&&i[n-1][t].collapsed===!1){const f=e[l].N;if(!f)throw new Error("no connections defined for north");i[n-1][t].possibleTiles=i[n-1][t].possibleTiles.filter(s=>f.includes(s))}if(n<i.length-1&&i[n+1][t].collapsed===!1){const f=e[l].S;if(!f)throw new Error("no connections defined for south");i[n+1][t].possibleTiles=i[n+1][t].possibleTiles.filter(s=>f.includes(s))}if(t>0&&i[n][t-1].collapsed===!1){const f=e[l].W;if(!f)throw new Error("no connections defined for west");i[n][t-1].possibleTiles=i[n][t-1].possibleTiles.filter(s=>f.includes(s))}if(t<i[0].length-1&&i[n][t+1].collapsed===!1){const f=e[l].E;if(!f)throw new Error("no connections defined for east");i[n][t+1].possibleTiles=i[n][t+1].possibleTiles.filter(s=>f.includes(s))}}},je=(i,e)=>{const n=i.width/e[0].length;i.stroke(255);for(let t=0;t<e.length;t++)for(let l=0;l<e[0].length;l++)if(at(e[t][l])){i.noFill(),i.stroke(255),i.rect(l*n,t*n,n,n);const f=e[t][l].possibleTiles.join(",");i.fill(255),i.noStroke(),i.text(f,l*n,t*n+n/2)}else se(i,e[t][l],{x:l*n,y:t*n,size:n})};function Je(i){let e,n;return{c(){e=y("div"),n=D("Can't continue collapsing")},l(t){e=N(t,"DIV",{});var l=P(e);n=M(l,"Can't continue collapsing"),l.forEach(_)},m(t,l){$(t,e,l),W(e,n)},d(t){t&&_(e)}}}function Qt(i){let e,n,t,l,f,s,r,c,o,u,a,h,m,v,E,T,k,b,I,B,x,d,S,A,te;l=new he({props:{sketch:i[3]}});let R=i[1]&&Je();return{c(){e=y("h3"),n=D("Grid generator"),t=z(),V(l.$$.fragment),f=z(),R&&R.c(),s=z(),r=y("button"),c=D("Infinite generation"),o=z(),u=y("button"),a=D("Collapse"),h=z(),m=y("button"),v=D("Step"),E=z(),T=y("button"),k=D("Reset"),b=z(),I=y("label"),B=D("Grid Size"),x=z(),d=y("input"),this.h()},l(g){e=N(g,"H3",{});var G=P(e);n=M(G,"Grid generator"),G.forEach(_),t=C(g),F(l.$$.fragment,g),f=C(g),R&&R.l(g),s=C(g),r=N(g,"BUTTON",{});var be=P(r);c=M(be,"Infinite generation"),be.forEach(_),o=C(g),u=N(g,"BUTTON",{});var ge=P(u);a=M(ge,"Collapse"),ge.forEach(_),h=C(g),m=N(g,"BUTTON",{});var ve=P(m);v=M(ve,"Step"),ve.forEach(_),E=C(g),T=N(g,"BUTTON",{});var we=P(T);k=M(we,"Reset"),we.forEach(_),b=C(g),I=N(g,"LABEL",{for:!0});var ke=P(I);B=M(ke,"Grid Size"),ke.forEach(_),x=C(g),d=N(g,"INPUT",{type:!0,min:!0}),this.h()},h(){O(I,"for","gridSize"),O(d,"type","number"),O(d,"min","2")},m(g,G){$(g,e,G),W(e,n),$(g,t,G),L(l,g,G),$(g,f,G),R&&R.m(g,G),$(g,s,G),$(g,r,G),W(r,c),$(g,o,G),$(g,u,G),W(u,a),$(g,h,G),$(g,m,G),W(m,v),$(g,E,G),$(g,T,G),W(T,k),$(g,b,G),$(g,I,G),W(I,B),$(g,x,G),$(g,d,G),Te(d,i[0]),S=!0,A||(te=[H(r,"click",i[6]),H(u,"click",i[5]),H(m,"click",i[4]),H(T,"click",i[2]),H(d,"input",i[7]),H(d,"change",i[2])],A=!0)},p(g,[G]){g[1]?R||(R=Je(),R.c(),R.m(s.parentNode,s)):R&&(R.d(1),R=null),G&1&&nt(d.value)!==g[0]&&Te(d,g[0])},i(g){S||(p(l.$$.fragment,g),S=!0)},o(g){w(l.$$.fragment,g),S=!1},d(g){g&&_(e),g&&_(t),U(l,g),g&&_(f),R&&R.d(g),g&&_(s),g&&_(r),g&&_(o),g&&_(u),g&&_(h),g&&_(m),g&&_(E),g&&_(T),g&&_(b),g&&_(I),g&&_(x),g&&_(d),A=!1,lt(te)}}}const Ye=500;function Zt(i,e,n){let t,l;Q(i,ne,T=>n(11,t=T)),Q(i,re,T=>n(12,l=T));let f=10,s,r,c=!1;const o=()=>{n(1,c=!1),r=Xt(t,f);const T=Math.floor(Math.random()*5);for(let k=0;k<T;k++){const b=Math.floor(Math.random()*t.length);ut(r,{x:Math.floor(Math.random()*f),y:Math.floor(Math.random()*f)},t[b])}u==null||u.loop()};let u;const a=T=>{T.setup=()=>{u=T,T.createCanvas(Ye,Ye),o()},T.draw=()=>{if(!c){T.background(0);try{je(T,r)}catch{je(T,s)}T.noLoop()}}},h=()=>{s={...r},qt(r,l),Ht(r,t),u.loop()},m=()=>{try{h(),setTimeout(m,1)}catch{n(1,c=!0)}},v=()=>{try{h(),setTimeout(v,1)}catch{n(1,c=!0),setTimeout(()=>{o(),v()},1e3)}};oe(()=>{u==null||u.remove()});function E(){f=nt(this.value),n(0,f)}return[f,c,o,a,h,m,v,E]}class xt extends Y{constructor(e){super(),K(this,e,Zt,Qt,X,{})}}function Ke(i,e,n){const t=i.slice();return t[1]=e[n],t}function Xe(i,e,n){const t=i.slice();return t[1]=e[n],t}function el(i){let e=i[1].title+"",n;return{c(){n=D(e)},l(t){n=M(t,e)},m(t,l){$(t,n,l)},p:ee,d(t){t&&_(n)}}}function He(i){let e,n;return e=new it({props:{$$slots:{default:[el]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,l){const f={};l&64&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function tl(i){let e,n,t=i[0],l=[];for(let s=0;s<t.length;s+=1)l[s]=He(Xe(i,t,s));const f=s=>w(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=q()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=q()},m(s,r){for(let c=0;c<l.length;c+=1)l[c].m(s,r);$(s,e,r),n=!0},p(s,r){if(r&1){t=s[0];let c;for(c=0;c<t.length;c+=1){const o=Xe(s,t,c);l[c]?(l[c].p(o,r),p(l[c],1)):(l[c]=He(o),l[c].c(),p(l[c],1),l[c].m(e.parentNode,e))}for(j(),c=t.length;c<l.length;c+=1)f(c);J()}},i(s){if(!n){for(let r=0;r<t.length;r+=1)p(l[r]);n=!0}},o(s){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)w(l[r]);n=!1},d(s){Z(l,s),s&&_(e)}}}function ll(i){let e,n,t;var l=i[1].component;function f(s){return{}}return l&&(e=ie(l,f())),{c(){e&&V(e.$$.fragment),n=z()},l(s){e&&F(e.$$.fragment,s),n=C(s)},m(s,r){e&&L(e,s,r),$(s,n,r),t=!0},p(s,r){if(l!==(l=s[1].component)){if(e){j();const c=e;w(c.$$.fragment,1,0,()=>{U(c,1)}),J()}l?(e=ie(l,f()),V(e.$$.fragment),p(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}},i(s){t||(e&&p(e.$$.fragment,s),t=!0)},o(s){e&&w(e.$$.fragment,s),t=!1},d(s){e&&U(e,s),s&&_(n)}}}function qe(i){let e,n;return e=new ft({props:{$$slots:{default:[ll]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,l){const f={};l&64&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function nl(i){let e,n,t,l;e=new rt({props:{$$slots:{default:[tl]},$$scope:{ctx:i}}});let f=i[0],s=[];for(let c=0;c<f.length;c+=1)s[c]=qe(Ke(i,f,c));const r=c=>w(s[c],1,1,()=>{s[c]=null});return{c(){V(e.$$.fragment),n=z();for(let c=0;c<s.length;c+=1)s[c].c();t=q()},l(c){F(e.$$.fragment,c),n=C(c);for(let o=0;o<s.length;o+=1)s[o].l(c);t=q()},m(c,o){L(e,c,o),$(c,n,o);for(let u=0;u<s.length;u+=1)s[u].m(c,o);$(c,t,o),l=!0},p(c,o){const u={};if(o&64&&(u.$$scope={dirty:o,ctx:c}),e.$set(u),o&1){f=c[0];let a;for(a=0;a<f.length;a+=1){const h=Ke(c,f,a);s[a]?(s[a].p(h,o),p(s[a],1)):(s[a]=qe(h),s[a].c(),p(s[a],1),s[a].m(t.parentNode,t))}for(j(),a=f.length;a<s.length;a+=1)r(a);J()}},i(c){if(!l){p(e.$$.fragment,c);for(let o=0;o<f.length;o+=1)p(s[o]);l=!0}},o(c){w(e.$$.fragment,c),s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)w(s[o]);l=!1},d(c){U(e,c),c&&_(n),Z(s,c),c&&_(t)}}}function sl(i){let e,n;return e=new ot({props:{$$slots:{default:[nl]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const f={};l&64&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function ol(i){return[[{title:"About",component:Pt},{title:"Grid",component:xt},{title:"Tiles",component:Ut},{title:"Connections",component:Kt}]]}class il extends Y{constructor(e){super(),K(this,e,ol,sl,X,{})}}function Qe(i,e,n){const t=i.slice();return t[1]=e[n],t}function Ze(i,e,n){const t=i.slice();return t[1]=e[n],t}function rl(i){let e=i[1].title+"",n;return{c(){n=D(e)},l(t){n=M(t,e)},m(t,l){$(t,n,l)},p:ee,d(t){t&&_(n)}}}function xe(i){let e,n;return e=new it({props:{$$slots:{default:[rl]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,l){const f={};l&64&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function fl(i){let e,n,t=i[0],l=[];for(let s=0;s<t.length;s+=1)l[s]=xe(Ze(i,t,s));const f=s=>w(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=q()},l(s){for(let r=0;r<l.length;r+=1)l[r].l(s);e=q()},m(s,r){for(let c=0;c<l.length;c+=1)l[c].m(s,r);$(s,e,r),n=!0},p(s,r){if(r&1){t=s[0];let c;for(c=0;c<t.length;c+=1){const o=Ze(s,t,c);l[c]?(l[c].p(o,r),p(l[c],1)):(l[c]=xe(o),l[c].c(),p(l[c],1),l[c].m(e.parentNode,e))}for(j(),c=t.length;c<l.length;c+=1)f(c);J()}},i(s){if(!n){for(let r=0;r<t.length;r+=1)p(l[r]);n=!0}},o(s){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)w(l[r]);n=!1},d(s){Z(l,s),s&&_(e)}}}function cl(i){let e,n,t;var l=i[1].component;function f(s){return{}}return l&&(e=ie(l,f())),{c(){e&&V(e.$$.fragment),n=z()},l(s){e&&F(e.$$.fragment,s),n=C(s)},m(s,r){e&&L(e,s,r),$(s,n,r),t=!0},p(s,r){if(l!==(l=s[1].component)){if(e){j();const c=e;w(c.$$.fragment,1,0,()=>{U(c,1)}),J()}l?(e=ie(l,f()),V(e.$$.fragment),p(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}},i(s){t||(e&&p(e.$$.fragment,s),t=!0)},o(s){e&&w(e.$$.fragment,s),t=!1},d(s){e&&U(e,s),s&&_(n)}}}function et(i){let e,n;return e=new ft({props:{$$slots:{default:[cl]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,l){const f={};l&64&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function al(i){let e,n,t,l;e=new rt({props:{$$slots:{default:[fl]},$$scope:{ctx:i}}});let f=i[0],s=[];for(let c=0;c<f.length;c+=1)s[c]=et(Qe(i,f,c));const r=c=>w(s[c],1,1,()=>{s[c]=null});return{c(){V(e.$$.fragment),n=z();for(let c=0;c<s.length;c+=1)s[c].c();t=q()},l(c){F(e.$$.fragment,c),n=C(c);for(let o=0;o<s.length;o+=1)s[o].l(c);t=q()},m(c,o){L(e,c,o),$(c,n,o);for(let u=0;u<s.length;u+=1)s[u].m(c,o);$(c,t,o),l=!0},p(c,o){const u={};if(o&64&&(u.$$scope={dirty:o,ctx:c}),e.$set(u),o&1){f=c[0];let a;for(a=0;a<f.length;a+=1){const h=Qe(c,f,a);s[a]?(s[a].p(h,o),p(s[a],1)):(s[a]=et(h),s[a].c(),p(s[a],1),s[a].m(t.parentNode,t))}for(j(),a=f.length;a<s.length;a+=1)r(a);J()}},i(c){if(!l){p(e.$$.fragment,c);for(let o=0;o<f.length;o+=1)p(s[o]);l=!0}},o(c){w(e.$$.fragment,c),s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)w(s[o]);l=!1},d(c){U(e,c),c&&_(n),Z(s,c),c&&_(t)}}}function ul(i){let e,n;return e=new ot({props:{$$slots:{default:[al]},$$scope:{ctx:i}}}),{c(){V(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,l){L(e,t,l),n=!0},p(t,[l]){const f={};l&64&&(f.$$scope={dirty:l,ctx:t}),e.$set(f)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){w(e.$$.fragment,t),n=!1},d(t){U(e,t)}}}function hl(i){return[[{title:"V1",component:il}]]}class pl extends Y{constructor(e){super(),K(this,e,hl,ul,X,{})}}export{pl as default};
